# Activate the 'supabase' profile to use Supabase PostgreSQL (production)
# Use 'local' for legacy MySQL local development (deprecated)
spring.profiles.active=supabase

# Application Configuration
spring.application.name=glyzier

# PostgreSQL Configuration (Supabase)
# IMPORTANT: This is a template. Actual credentials are in application-supabase.properties (NOT committed to Git)
spring.datasource.url=jdbc:postgresql://localhost:5432/glyzier_db
spring.datasource.username=postgres
spring.datasource.password=CHANGE_ME
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
# hibernate.ddl-auto=update will automatically update the database schema based on entity changes
spring.jpa.hibernate.ddl-auto=update
# show-sql=true will print SQL statements to the console for debugging
spring.jpa.show-sql=true
# PostgreSQL dialect for optimal SQL generation
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ============================================================
# DEPRECATED: MySQL Configuration (Legacy)
# ============================================================
# The following MySQL configuration is kept for reference only
# To use MySQL locally, set spring.profiles.active=local and ensure application-local.properties exists
# 
# spring.datasource.url=jdbc:mysql://localhost:3306/glyzier_db
# spring.datasource.username=HARRY
# spring.datasource.password=SpringDB@8080
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JWT Configuration
# Secret key for JWT token generation and validation
# In production, this should be a strong, randomly generated secret stored securely
jwt.secret=glyzierSecretKey2024ThisIsAVeryLongSecretKeyForJWTTokenGenerationAndValidation
# JWT token expiration time in milliseconds (24 hours = 86400000 ms)
jwt.expiration=86400000

# File Upload Configuration
# Maximum file size for individual file uploads (100MB)
spring.servlet.multipart.max-file-size=100MB
# Maximum request size for entire multipart request (100MB)
spring.servlet.multipart.max-request-size=100MB
# Enable multipart file uploads
spring.servlet.multipart.enabled=true

# Email Configuration
# Supports both SendGrid (production) and SMTP (local development)
#
# PRODUCTION (Render):
# - Use SendGrid HTTP API (SMTP ports are blocked on Render)
# - Set environment variable: SENDGRID_API_KEY=SG.xxx...
# - Get free API key from: https://signup.sendgrid.com/
#
# LOCAL DEVELOPMENT:
# - Use Gmail SMTP (configure in application-supabase.properties)
# - SMTP works locally but NOT on Render/cloud platforms
#
# SendGrid Configuration (Production - Render/Heroku/AWS/etc)
sendgrid.api.key=${SENDGRID_API_KEY:}

# SMTP Configuration (Local Development Only)
# IMPORTANT: SMTP ports (25, 465, 587) are BLOCKED on Render
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${EMAIL_USERNAME:your-email@gmail.com}
spring.mail.password=${EMAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000
spring.mail.from=${EMAIL_FROM:noreply@glyzier.com}
