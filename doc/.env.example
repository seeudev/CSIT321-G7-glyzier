# ============================================
# Glyzier Environment Variables
# ============================================
# Copy this file to create your environment configuration
# For Render.com: Add these in the Environment tab
# For Local: Create application-supabase.properties
# ============================================

# ============================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================
# Supabase PostgreSQL Connection
# Replace PROJECT_ID with your Supabase project ID
# Use Connection Pooler (port 6543) for production
SPRING_DATASOURCE_URL=jdbc:postgresql://db.PROJECT_ID.supabase.co:6543/postgres?sslmode=require
SPRING_DATASOURCE_USERNAME=postgres.PROJECT_ID
SPRING_DATASOURCE_PASSWORD=your_supabase_password_here
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# ============================================
# JPA/HIBERNATE CONFIGURATION
# ============================================
# DDL Auto: update = auto-create/update tables
# Options: none, validate, update, create, create-drop
SPRING_JPA_HIBERNATE_DDL_AUTO=update

# Show SQL queries in logs (false for production)
SPRING_JPA_SHOW_SQL=false

# PostgreSQL Dialect
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect

# ============================================
# JWT CONFIGURATION (REQUIRED)
# ============================================
# SECURITY WARNING: Change this secret in production!
# Generate secure secret: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_KEY_AT_LEAST_64_CHARACTERS_LONG

# JWT Token Expiration (milliseconds)
# Default: 86400000 = 24 hours
JWT_EXPIRATION=86400000

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Active Spring Profile
SPRING_PROFILES_ACTIVE=supabase

# Application Name
SPRING_APPLICATION_NAME=glyzier

# Server Port (Render sets this automatically)
PORT=8080

# ============================================
# PERFORMANCE TUNING (OPTIONAL)
# ============================================
# JVM Memory Settings (adjust based on instance size)
# Free tier Render: 512MB RAM - use ~400MB max
JAVA_TOOL_OPTIONS=-Xmx400m -Xms200m

# HikariCP Connection Pool
# Keep under 40 total connections (Supabase limit)
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=10
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=2
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=600000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1800000

# Hibernate Performance
SPRING_JPA_PROPERTIES_HIBERNATE_JDBC_BATCH_SIZE=20
SPRING_JPA_PROPERTIES_HIBERNATE_ORDER_INSERTS=true
SPRING_JPA_PROPERTIES_HIBERNATE_ORDER_UPDATES=true
SPRING_JPA_PROPERTIES_HIBERNATE_JDBC_FETCH_SIZE=50

# ============================================
# LOGGING (OPTIONAL)
# ============================================
# Log Level Options: TRACE, DEBUG, INFO, WARN, ERROR, OFF
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_GLYZIER=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=WARN
LOGGING_LEVEL_ORG_HIBERNATE=WARN

# ============================================
# FRONTEND CONFIGURATION (OPTIONAL)
# ============================================
# Only needed if frontend is deployed separately
# VITE_API_URL=https://glyzier.onrender.com

# ============================================
# NOTES
# ============================================
# 1. Never commit actual secrets to Git
# 2. Use Render environment variables for production
# 3. For local development, create application-supabase.properties
# 4. Supabase Connection Pooler (port 6543) limits to 40 connections
# 5. Direct connection (port 5432) allows unlimited but not recommended
# 6. Always use SSL (sslmode=require) for production
# ============================================
